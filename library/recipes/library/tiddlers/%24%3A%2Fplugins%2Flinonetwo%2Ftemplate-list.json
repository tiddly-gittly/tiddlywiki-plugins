{"title":"$:/plugins/linonetwo/template-list","name":"Template List","description":"Show a list of template when you create a new tiddler","author":"LinOnetwo","core-version":">=5.1.22","plugin-type":"plugin","version":"0.1.0","list":"Readme","dependents":"","type":"application/json","text":"{\"tiddlers\":{\"$:/plugins/linonetwo/template-list/EditTemplate\":{\"title\":\"$:/plugins/linonetwo/template-list/EditTemplate\",\"modifier\":\"LinOnetwo\",\"creator\":\"LinOnetwo\",\"tags\":\"$:/tags/EditTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"<$list filter=\\\"[all[current]get[text]else<currentTiddler>match<currentTiddler>]\\\">\\n<<template-list targetBlankTiddler >>\\n</$list>\"},\"$:/plugins/linonetwo/template-list/ExampleTemplate\":{\"title\":\"$:/plugins/linonetwo/template-list/ExampleTemplate\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"tags\":\"$:/tags/TextEditor/Template\",\"icon\":\"ðŸ“¦\",\"page-cover\":\"https://unsplash.com/photos/ZjX-z2Q5zrk/download?ixid=MnwxMjA3fDB8MXxzZWFyY2h8Mnx8cGx1Z2lufHwwfHx8fDE2MzcxMTYzOTg&force=true&w=1920\",\"text\":\"!! Features\\n\\nThis plugin provides [[FeiShu Doc|https://www.feishu.cn/hc/zh-CN/articles/222318959624]] style template list for newly created tiddler.\\n\"},\"$:/plugins/linonetwo/template-list/Readme\":{\"title\":\"$:/plugins/linonetwo/template-list/Readme\",\"creator\":\"LinOnetwo\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"!! Features\\n\\nThis plugin provides [[FeiShu Doc|https://www.feishu.cn/hc/zh-CN/articles/222318959624]] style template list for newly created tiddler.\\n\\n!! Add new template\\n\\n`$:/tags/TextEditor/Template` is the tag for the templates. Add it to a tiddler, and that tiddler will show up in the template list.\\n\\n!! Apply the template\\n\\nAfter you create an empty tiddler, that have an empty text field. You will notice that a template and a search bar show up in the bottom of the tiddler.\\n\\nClick on a template will apply the text field to the currentTiddler.\\n\\nYou can scroll to reveal more template if you have more than two rows of templates.\\n\"},\"$:/plugins/linonetwo/template-list/ViewTemplate\":{\"title\":\"$:/plugins/linonetwo/template-list/ViewTemplate\",\"modifier\":\"LinOnetwo\",\"creator\":\"LinOnetwo\",\"tags\":\"$:/tags/ViewTemplate\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\n<$list filter=\\\"[all[current]get[text]else<currentTiddler>match<currentTiddler>]\\\">\\n<<template-list targetBlankTiddler >>\\n</$list>\\n\"},\"$:/plugins/linonetwo/template-list/style.css\":{\"title\":\"$:/plugins/linonetwo/template-list/style.css\",\"creator\":\"LinOnetwo\",\"tags\":\"$:/tags/Stylesheet\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\".linonetwo-template-list-container {\\n  opacity: 0.5;\\n}\\n.linonetwo-template-list-container:hover {\\n  opacity: 1;\\n}\\n\\n.linonetwo-template-list-search {\\n  width: 100%;\\n  margin-top: 2em;\\n  height: 2em;\\n}\\n\\n.linonetwo-template-list {\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));\\n  grid-auto-rows: 1fr;\\n  gap: 16px;\\n  max-height: 400px;\\n  overflow: hidden;\\n}\\n/**\\n* only have scroll bar when hover\\n*/\\n.linonetwo-template-list:hover {\\n  overflow-y: overlay;\\n}\\n\\n.linonetwo-template-list-item-container {\\n  background: unset !important;\\n  border: none !important;\\n  padding: 0 !important;\\n  margin: 0 1px !important;\\n  background-color: unset !important;\\n}\\n\\n.linonetwo-template-list-item-content {\\n  height: 249px;\\n  width: 100%;\\n  border-radius: 3px;\\n  background: #white;\\n  box-shadow: rgb(15 15 15 / 20%) 0px 0px 0px 1px, rgb(15 15 15 / 20%) 0px 2px 4px;\\n  overflow: hidden;\\n  user-select: none;\\n  cursor: pointer;\\n  position: static;\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.linonetwo-template-list-item-content p {\\n  margin: 5px;\\n  margin-bottom: 0;\\n  text-align: start;\\n}\\n\"},\"$:/plugins/linonetwo/template-list/template-list\":{\"title\":\"$:/plugins/linonetwo/template-list/template-list\",\"creator\":\"LinOnetwo\",\"tags\":\"$:/tags/Macro\",\"type\":\"text/vnd.tiddlywiki\",\"text\":\"\\\\define template-list()\\n\\\\whitespace trim\\n\\n<div class=\\\"linonetwo-template-list-container\\\">\\n<$list filter=\\\"[all[tiddlers]tag[$:/tags/TextEditor/Template]!is[draft]count[]compare:number:gt[0]]\\\">\\n  <$edit-text tiddler=\\\"$:/state/search-template-list/input\\\" default=\\\"\\\" placeholder=\\\"search template name\\\" tag=input class=\\\"linonetwo-template-list-search\\\" />\\n</$list>\\n\\n\\n<div class=\\\"linonetwo-template-list\\\">\\n  <$let target=<<currentTiddler>> targetTitle={{{ [<target>get[draft.title]] ~[<target>get[title]] }}} search={{{ [[$:/state/search-template-list/input]get[text]] }}} draftOf={{{ [<target>get[draft.of]] }}} >\\n    <$list filter=\\\"[all[tiddlers]tag[$:/tags/TextEditor/Template]!is[draft]search:title,name,description,readme<search>]\\\">\\n      <$button class=\\\"linonetwo-template-list-item-container\\\" >\\n\\n        <$action-createtiddler $basetitle=<<target>> $overwrite=yes $template=<<currentTiddler>> >\\n\\n          <$action-setfield $tiddler=<<target>> $field=\\\"tags\\\" $value={{{ [<currentTiddler>get[tags]split[ ]] +[remove[$:/tags/TextEditor/Template]] +[join[ ]] }}} />\\n\\n          <$log target22=<<target>> currentTiddler=<<currentTiddler>> createTiddlerTitle=<<createTiddler-title>> createTiddlerDraftTitle=<<createTiddler-draftTitle>> targetTitle=<<targetTitle>> draftOf=<<draftOf>> /> \\n\\n          <$action-setfield $tiddler=<<target>> $field=\\\"draft.of\\\" $value=<<draftOf>> />\\n          <$action-setfield $tiddler=<<target>> $field=\\\"draft.title\\\" $value=<<targetTitle>> />\\n        \\n        </$action-createtiddler>\\n\\n\\n        <div class=\\\"linonetwo-template-list-item-content\\\">\\n          <div style=\\\"witdh: 100%; height: 180px; overflow: hidden;\\\">\\n            <$reveal stateTitle=<<currentTiddler>> stateField=\\\"page-cover\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n              <$image source={{{ [<currentTiddler>get[page-cover]] }}} width=\\\"100%\\\" height=\\\"auto\\\"/>\\n            </$reveal>\\n            <$wikify name=\\\"rendered\\\" text={{{ [<currentTiddler>get[text]] }}} output=html><<rendered>></$wikify>\\n          </div>\\n\\n          <div style=\\\"width: 100%; padding: 8px 10px 10px; height: 69px; display: flex; flex-direction: row;\\\">\\n\\n            <$reveal stateTitle=<<currentTiddler>> stateField=\\\"icon\\\" type=\\\"nomatch\\\" text=\\\"\\\">\\n              <div>\\n                <$list filter=\\\"[<currentTiddler>get[icon]]\\\" variable=\\\"icon\\\">\\n                  <$list filter=\\\"[title<icon>is[shadow]]\\\"><$transclude tiddler=<<icon>>/></$list>\\n                  <$list filter=\\\"[title<icon>is[tiddler]]\\\"><$transclude tiddler=<<icon>>/></$list>\\n                  <$list filter=\\\"[title<icon>!is[shadow]!is[tiddler]]\\\">\\n                    <$wikify name=\\\"rendered\\\" text=<<icon>> output=html><<rendered>></$wikify>\\n                  </$list>\\n                </$list>\\n              </div>\\n            </$reveal>\\n            ''<$text text=<<currentTiddler>> />''\\n          </div>\\n        </div>\\n      </$button>\\n    </$list>\\n  </$let>\\n</div>\\n</div>\\n\\n\\\\end\\n\"}}}"}